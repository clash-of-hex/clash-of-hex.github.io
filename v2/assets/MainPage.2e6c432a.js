var ct=Object.defineProperty;var ut=(n,t,e)=>t in n?ct(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var $=(n,t,e)=>(ut(n,typeof t!="symbol"?t+"":t,e),e),W=(n,t,e)=>{if(!t.has(n))throw TypeError("Cannot "+e)};var a=(n,t,e)=>(W(n,t,"read from private field"),e?e.call(n):t.get(n)),w=(n,t,e)=>{if(t.has(n))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(n):t.set(n,e)},Y=(n,t,e,i)=>(W(n,t,"write to private field"),i?i.call(n,e):t.set(n,e),e);var d=(n,t,e)=>(W(n,t,"access private method"),e);import{d as tt,o as nt,c as et,_ as at,a as ht}from"./App.258b532c.js";const y=n=>Number.isFinite(n)&&!Number.isNaN(n),R=n=>typeof n=="object"&&n!==null,ft=n=>typeof n=="function",O=n=>R(n)&&y(n.col)&&y(n.row),dt=n=>R(n)&&y(n.x)&&y(n.y),T=n=>Array.isArray(n)&&y(n[0])&&y(n[1]),A=(n,t)=>t+n*(t&1)>>1;function gt(n,t){return(n%t+t)%t}const lt=(n,t)=>gt(n+t,8),E=([n,t,e=-n-t])=>({q:n,r:t,s:e});function P({q:n,r:t,s:e}){const i=y(n),s=y(t),r=y(e);if(i&&s&&r)return{q:n,r:t,s:e};if(i&&s)return{q:n,r:t,s:-n-t};if(i&&r)return{q:n,r:-n-e,s:e};if(s&&r)return{q:-t-e,r:t,s:e};throw new TypeError(`Can't determine three cube coordinates from less than two coordinates. Received: { q: ${n}, r: ${t}, s: ${e} }.`)}var g=(n=>(n.FLAT="FLAT",n.POINTY="POINTY",n))(g||{});function yt(n,t){if(R(n)&&n.xRadius>0&&n.yRadius>0)return n;if(R(n)&&n.width>0&&n.height>0){const{width:e,height:i}=n;return t===g.POINTY?{xRadius:e/Math.sqrt(3),yRadius:i/2}:{xRadius:e/2,yRadius:i/Math.sqrt(3)}}if(n>0)return{xRadius:n,yRadius:n};throw new TypeError(`Invalid dimensions: ${JSON.stringify(n)}. Dimensions must be expressed as an Ellipse ({ xRadius: number, yRadius: number }), a Rectangle ({ width: number, height: number }) or a number.`)}function xt(n,t){if(dt(n))return n;if(!t)throw new TypeError(`Supply a bounding box ({ width: number, height: number }). Received: ${JSON.stringify(t)}`);if(n==="topLeft")return{x:t.width*-.5,y:t.height*-.5};throw new TypeError(`Invalid origin: ${JSON.stringify(n)}. Origin must be expressed as a Point ({ x: number, y: number }) or the string 'topLeft'.`)}class V{constructor(t=[0,0]){$(this,"q");$(this,"r");const{q:e,r:i}=v(this,t);this.q=e,this.r=i}static get settings(){const{dimensions:t,orientation:e,origin:i,offset:s}=this.prototype;return{dimensions:t,orientation:e,origin:i,offset:s}}get center(){const{width:t,height:e,x:i,y:s}=this;return{x:t/2-i,y:e/2-s}}get col(){return B(this).col}get corners(){const{orientation:t,width:e,height:i,x:s,y:r}=this;return t===g.POINTY?qt(e,i,s,r):pt(e,i,s,r)}get dimensions(){return N.dimensions}get height(){const{orientation:t,dimensions:{yRadius:e}}=this;return t===g.POINTY?e*2:e*Math.sqrt(3)}get isFlat(){return this.orientation===g.FLAT}get isPointy(){return this.orientation===g.POINTY}get orientation(){return N.orientation}get origin(){return N.origin}get offset(){return N.offset}get row(){return B(this).row}get width(){const{orientation:t,dimensions:{xRadius:e}}=this;return t===g.POINTY?e*Math.sqrt(3):e*2}get x(){return U(this).x}get y(){return U(this).y}get s(){return-this.q-this.r}clone(t=this){return new this.constructor(t)}equals(t){return wt(this,O(t)?ot(this,t):t)}toString(){return`${this.constructor.name}(${this.q},${this.r})`}translate(t){return St(this,t)}}const N={dimensions:{xRadius:1,yRadius:1},orientation:g.POINTY,origin:{x:0,y:0},offset:-1},qt=(n,t,e,i)=>[{x:e+n*.5,y:i-t*.25},{x:e+n*.5,y:i+t*.25},{x:e,y:i+t*.5},{x:e-n*.5,y:i+t*.25},{x:e-n*.5,y:i-t*.25},{x:e,y:i-t*.5}],pt=(n,t,e,i)=>[{x:e+n*.25,y:i-t*.5},{x:e+n*.5,y:i},{x:e+n*.25,y:i+t*.5},{x:e-n*.25,y:i+t*.5},{x:e-n*.5,y:i},{x:e-n*.25,y:i-t*.5}];function it(n){const{dimensions:t,orientation:e,origin:i,offset:s}={...N,...n};return class extends V{get dimensions(){return yt(t,e)}get orientation(){return e}get origin(){return xt(i,this)}get offset(){return s}}}function wt(n,t){if(O(n)&&O(t))return n.col===t.col&&n.row===t.row;if(Object.hasOwn(n,"col")||Object.hasOwn(t,"col"))throw new Error(`Can't compare coordinates where one are offset coordinates. Either pass two offset coordinates or two axial/cube coordinates. Received: ${JSON.stringify(n)} and ${JSON.stringify(t)}`);const e=T(n)?E(n):n,i=T(t)?E(t):t;return e.q===i.q&&e.r===i.r}const mt=(n,t,e)=>({col:n+A(e,t),row:t}),bt=(n,t,e)=>({col:n,row:t+A(e,n)}),B=({q:n,r:t,offset:e,isPointy:i})=>i?mt(n,t,e):bt(n,t,e),U=({orientation:n,dimensions:{xRadius:t,yRadius:e},origin:{x:i,y:s},q:r,r:o})=>n===g.POINTY?{x:t*Math.sqrt(3)*(r+o/2)-i,y:e*3/2*o-s}:{x:t*3/2*r-i,y:e*Math.sqrt(3)*(o+r/2)-s},st=(n,t,e)=>{const i=n-A(e,t),s=t,r=-i-s;return{q:i,r:s,s:r}},rt=(n,t,e)=>{const i=n,s=t-A(e,n),r=-i-s;return{q:i,r:s,s:r}},ot=({offset:n,orientation:t},{col:e,row:i})=>t===g.POINTY?st(e,i,n):rt(e,i,n),C=n=>{const{q:t,r:e,s:i}=P(n);let s=Math.round(t),r=Math.round(e),o=Math.round(i);const c=Math.abs(t-s),u=Math.abs(e-r),l=Math.abs(i-o);return c>u&&c>l?s=-r-o:u>l?r=-s-o:o=-s-r,{q:s,r,s:o}},Nt=({dimensions:{xRadius:n,yRadius:t},origin:e,orientation:i},{x:s,y:r})=>(s+=e.x,r+=e.y,i===g.POINTY?C({q:Math.sqrt(3)*s/(3*n)-r/(3*t),r:2/3*(r/t)}):C({q:2/3*(s/n),r:Math.sqrt(3)*r/(3*t)-s/(3*n)}));function v(n,t){return T(t)?E(t):O(t)?ot(n,t):P(t)}function St(n,t){const{q:e,r:i,s}=P(n),{q:r,r:o,s:c}=P(t),u={q:e+r,r:i+o,s:s+c};return n instanceof V?n.clone(u):u}function J(n,t,e){const{q:i,r:s,s:r}=v(n,t),{q:o,r:c,s:u}=v(n,e);return Math.max(Math.abs(i-o),Math.abs(s-c),Math.abs(r-u))}var h=(n=>(n[n.N=0]="N",n[n.NE=1]="NE",n[n.E=2]="E",n[n.SE=3]="SE",n[n.S=4]="S",n[n.SW=5]="SW",n[n.W=6]="W",n[n.NW=7]="NW",n))(h||{});const Ot=[null,{q:1,r:-1},{q:1,r:0},{q:0,r:1},null,{q:-1,r:1},{q:-1,r:0},{q:0,r:-1}],Pt=[{q:0,r:-1},{q:1,r:-1},null,{q:1,r:0},{q:0,r:1},{q:-1,r:1},null,{q:-1,r:0}],_t=({offset:n,q:t,r:e,col:i,row:s},r)=>{if(r===h.S||r===h.N){const c=r===h.S?s+1:s-1;return st(i,c,n)}const o=Ot[r];return{q:t+o.q,r:e+o.r}},Ht=({offset:n,q:t,r:e,col:i,row:s},r)=>{if(r===h.E||r===h.W){const c=r===h.E?i+1:i-1;return rt(c,s,n)}const o=Pt[r];return{q:t+o.q,r:e+o.r}},z=(n,t)=>n.clone(n.isPointy?_t(n,t):Ht(n,t));function F(n){return Array.isArray(n)?function(t,e){const i=[];let s=e;for(const r of n)for(const o of r(t,s))i.push(s=o);return i}:n}function X(n){return Mt(n)?Rt(n):Tt(n)}function Mt(n){return n.direction in h}function Rt({start:n,direction:t,length:e}){return function(i,s){const r=[];let o=i(n!=null?n:s);!n&&s&&(o=z(o,t));for(let c=0;c<e;c++)r.push(o),o=z(o,t);return r}}function Tt({start:n,stop:t}){return function(e,i){const s=[],r=e(n!=null?n:i),o=Z(r),c=Z(v(r,t)),u=Et(o,c),l=J(r,r,t),b=1/Math.max(l,1);let p=!n&&i?1:0;for(p;p<=l;p++){const I=C(u(b*p));s.push(e(I))}return s}}function Z({q:n,r:t,s:e}){return{q:n+1e-6,r:t+1e-6,s:e+-2e-6}}function Et(n,t){return e=>{const i=n.q*(1-e)+t.q*e,s=n.r*(1-e)+t.r*e;return{q:i,r:s}}}function vt(n,t,{includeSource:e=!0}={}){return function(i,s){const r=[];for(const o of F(n)(i,s)){e&&r.push(o);for(const c of F(t)(i,o))r.push(c)}return r}}function At(n,t){return function(e,i){var b;const{width:s,height:r,start:o,direction:c=h.E}=t?It(n,t,e()):n,u=(b=o!=null?o:i)!=null?b:[0,0],l=vt(X({start:u,direction:lt(c,2),length:r}),X({direction:c,length:s-1}))(e,u);return!o&&i?l.slice(1):l}}function It(n,t,{isPointy:e,offset:i}){const{col:s,row:r}=Q(n,e,i),{col:o,row:c}=Q(t,e,i),u=s<o?"A":"B",l=r<c?"A":"B",b=u+l,{swapWidthHeight:p,direction:I}=$t[b],G=Math.abs(s-o)+1,K=Math.abs(r-c)+1;return{width:p?K:G,height:p?G:K,start:n,direction:I}}function Q(n,t,e){if(O(n))return n;const{q:i,r:s}=T(n)?E(n):P(n);return B({q:i,r:s,isPointy:t,offset:e})}const $t={AA:{swapWidthHeight:!1,direction:h.E},AB:{swapWidthHeight:!0,direction:h.N},BA:{swapWidthHeight:!0,direction:h.S},BB:{swapWidthHeight:!1,direction:h.W}};var f,q,m,S,_,j,H,k,M,D;const x=class{constructor(t,e=[]){w(this,m);w(this,_);w(this,H);w(this,M);w(this,f,void 0);w(this,q,new Map);if(t instanceof x){Y(this,f,a(t,f)),this.setHexes(t);return}Y(this,f,t),this.setHexes(d(this,_,j).call(this,e))}static fromIterable(t){const e=t[Symbol.iterator]().next().value;if(!e)throw new TypeError(`Can't create grid from empty iterable: ${JSON.stringify(t)}`);return new x(e.constructor,t)}static fromJSON({hexSettings:t,coordinates:e}){const i=it(t);return new x(i,e.map(s=>new i(s)))}get size(){return a(this,q).size}get pixelWidth(){if(this.size===0)return 0;const{isPointy:t,width:e}=this.hexPrototype,i=this.toArray(),{0:s,length:r,[r-1]:o}=t?i.sort((c,u)=>u.s-c.s||c.q-u.q):i.sort((c,u)=>c.q-u.q);return o.x-s.x+e}get pixelHeight(){if(this.size===0)return 0;const{isPointy:t,height:e}=this.hexPrototype,i=this.toArray(),{0:s,length:r,[r-1]:o}=t?i.sort((c,u)=>c.r-u.r):i.sort((c,u)=>u.s-c.s||c.r-u.r);return o.y-s.y+e}[Symbol.iterator](){return a(this,q).values()}get hexPrototype(){return a(this,f).prototype}createHex(t){return new(a(this,f))(t)}getHex(t){const e=this.createHex(t);return a(this,q).get(e.toString())}hasHex(t){return a(this,q).has(t.toString())}setHexes(t){for(const e of t){const i=e instanceof V?e:new(a(this,f))(e);d(this,m,S).call(this,i)}return this}filter(t){var i;const e=new x(a(this,f));for(const s of this)t(s)&&d(i=e,m,S).call(i,s);return e}map(t){var i;const e=new x(a(this,f));for(const s of this)d(i=e,m,S).call(i,t(s));return e}traverse(t,{bail:e=!1}={}){var s;const i=new x(a(this,f));for(const r of d(this,_,j).call(this,t)){const o=this.getHex(r);if(o)d(s=i,m,S).call(s,o);else if(e)return i}return i}forEach(t){for(const e of this)t(e);return this}reduce(t,e){if(e===void 0){let s,r,o;for(const c of this)r=o,o=c,r&&(s=t(r,o));return s}let i=e;for(const s of this)i=t(i,s);return i}toArray(){return Array.from(this)}toJSON(){const{dimensions:t,orientation:e,origin:i,offset:s}=this.hexPrototype;return{hexSettings:{dimensions:t,orientation:e,origin:i,offset:s},coordinates:this.toArray()}}toString(){return`${this.constructor.name}(${this.size})`}pointToHex(t,{allowOutside:e=!0}={}){const i=Nt(this.hexPrototype,t),s=this.getHex(i);return e?s!=null?s:this.createHex(i):s}distance(t,e,{allowOutside:i=!0}={}){if(i)return J(this.hexPrototype,t,e);const s=this.getHex(t),r=this.getHex(e);if(!(!s||!r))return J(this.hexPrototype,s,r)}neighborOf(t,e,{allowOutside:i=!0}={}){const s=z(this.createHex(t),e),r=this.getHex(s);return i?r!=null?r:s:r}};let L=x;f=new WeakMap,q=new WeakMap,m=new WeakSet,S=function(t){a(this,q).set(t.toString(),t)},_=new WeakSet,j=function(t){return d(this,H,k).call(this,t)?d(this,M,D).call(this,t):Array.isArray(t)&&d(this,H,k).call(this,t[0])?d(this,M,D).call(this,F(t)):t},H=new WeakSet,k=function(t){return ft(t)},M=new WeakSet,D=function(t){return t(this.createHex.bind(this))};const Wt=tt({__name:"Canvas",setup(n){const t=it({dimensions:30});return new L(t,At({width:10,height:10})).forEach(console.log),(i,s)=>(nt(),et("p",null,"TBD Canvas"))}});const Yt=at(Wt,[["__scopeId","data-v-a5330784"]]),Bt={class:"flex flex-col items-center gap-20 bg-base-100 py-20"},zt=tt({__name:"MainPage",setup(n){return(t,e)=>(nt(),et("div",Bt,[ht(Yt)]))}});export{zt as default};
